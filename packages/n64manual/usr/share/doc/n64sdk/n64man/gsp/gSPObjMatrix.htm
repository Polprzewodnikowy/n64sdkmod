<!DOCTYPE HTML PUBLIC "-//IBM//DTD HPB HTML//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../N64man.css">
<Editor's Notes: JLR made reformating and copy edits.>
<TITLE>gSPObjMatrix</TITLE>
</HEAD>

<BODY bgcolor="#ffffff">

<H1>gSPObjMatrix<FONT size="+0"> [Macro]</FONT></H1>

<p><b>Function</b></font></p>

<p>gSPObjMatrix</p>
<P>
<i>Sets the 2D matrix for a rotating sprite</i>
</P>
<p><b>Syntax</b></font></p>
<p>
<PRE><CODE>#include &lt;ultra64.h&gt;        /* <A HREF="../../header/gs2dex.htm">gs2dex.h</A> */
gSPObjMatrix(Gfx *gdl, uObjMtx *mtx)
gsSPObjMatrix(         uObjMtx *mtx)</CODE></PRE></p>

<p><b>Arguments</b></font></p>
<p>
<DL>
  <DT><B>gdl</B>
  <DD>the pointer to the display list. 
  <DT><B>mtx</B>
  <DD>the pointer to the 2D matrix structure 
</DL></p>
<p><b>Description</b></font></p>
<P>
Loads the 2D matrix parameters of the uObjMtx structure into the 2D matrix area in the RSP. This macro is normally used for a rotating sprite. It is used primarily in conjunction with <A HREF="gSPObjSprite.htm">gSPObjSprite</A>. 
</P>
<p><b>Note</b></font></p>
<P>
The uObjMtx structure is shown below: 
</P>
<P>
<PRE><CODE>typedef struct {
  s32 A, B, C, D;   /* s15.16 */
  s16 X, Y;         /* s10.2 */
  u16 BaseScaleX;   /* u5.10 */
  u16 BaseScaleY;   /* u5.10 */
} uObjMtx_t;
typedef union {
  uObjMtx_t      m;
  long long int  force_structure_alignment;
} uObjMtx;
</CODE></PRE>
</P>
<P>
Since the six matrix elements (<B>A</B>, <B>B</B>, <B>C</B>, <B>D</B>, <B>X</B>, <B>Y</B>) are the only ones needed for the rotation process, there is no need to transfer the entire 2D matrix. However, because data is transferred from main memory to the RSP's matrix area in 8-byte units, the <B>BaseScaleX</B> and <B>BaseScaleY</B> elements are also transferred to make the total data transfer size 24 bytes. For this reason, the values of <B>BaseScaleX</B> and <B>BaseScaleY</B> are always overwritten. If you are not going to use these parameters (if you are not immediately going to use g*SPObjRectangleR), we recommend assigning the default value 1024 (1.0 in s5.10 format) to <B>BaseScaleX</B> and <B>BaseScaleY</B>. 
</P>
<p><b>See Also</b></font></p>
<P>
<A HREF="gSPObjSprite.htm">gSPObjSprite</A>, <A HREF="gSPObjSubMatrix.htm">gSPObjSubMatrix</A>
</P>
<p><b>Revision History</b></font></p>
<P>
02/01/99  Entirely revised.
</P>
</BODY>
</HTML>
