<!DOCTYPE HTML PUBLIC "-//IBM//DTD HPB HTML//EN">
<HTML>
<HEAD>
<LINK REL=STYLESHEET TYPE="text/css" HREF="../N64man.css">
<Editor's Notes: JLR made reformating and copy edits.>
<title>__osGetCause</title>
</head>

<body bgcolor="#FFFFFF">
<font style="font-size: 12pt"><b>__osGetCause</b></font><font style="font-size: 9pt"><b> (function)</b></font>

<p>__osGetCause, __osSetCause, __osGetCompare,
__osSetCompare, __osGetConfig, __osSetConfig, __osGetSR,
__osSetSR, __osGetFpcCsr, __osSetFpcCsr</p>

<p><i>Functions as internal routine to access to multiple MIPS R4300 registers</i></p>

<h3>Syntax</h3>
<p>
<blockquote>
    <pre>#include &lt;ultra64.h&gt;     /* <A HREF="../../header/ultra64.htm">ultra64.h</A> */
#include &lt;os_internal.h&gt;
u32 __osGetCause(void);
void __osSetCause(u32 value);
u32 __osGetCompare(void);
void __osSetCompare(u32 value);
u32 __osGetConfig(void);
void __osSetConfig(u32 value);
u32 __osGetSR(void);
void __osSetSR(u32 value);
u32 __osGetFpcCsr(void);
u32 __osSetFpcCsr(u32 value);</pre></blockquote></p>

<h3>Description</h3>

<p>The Nintendo 64 operating system contains numerous internal routines that provide access to various important MIPS R4300 registers. To reduce potential duplicate effort from developers, these routines are described in this article. Developers should use the "Set" routines with extreme caution because they can interfere with the operations of the N64 operating system. These routines were designed for internal use only, so their names all have a double underscore (__) prefix notation. For more information on the use of the R4300 registers, please refer to the MIPS R4300 User's Manual and the header file <A HREF="../../header/R4300.htm">R4300.h</A>, which contains various bit definitions that can be used with the R4300 registers.</p>

<p>The <tt>__osGetCause</tt> routine returns the current value of the MIPS R4300 Cause register that describes the cause of the most recent exception. Its counterpart <A HREF="osSetCause.htm">__osSetCause</A> simply sets this register to the new value.</p>

<p>The <A HREF="osGetCompare.htm">__osGetCompare</A> routine returns the value of the R4300 Compare register. <A HREF="osSetCompare.htm">__osSetCompare</A> simply sets this register to the new value. Developers are discouraged from using __osSetCompare because the Compare register is used by the timer functions <A HREF="osSetTimer.htm">osSetTimer</A> and <A HREF="osStopTimer.htm">osStopTimer</A>.</p>

<p>The <A HREF="osGetConfig.htm">__osGetConfig</A> routine returns the current value of the R4300 Configuration register. Its counterpart <A HREF="osSetConfig.htm">__osSetConfig</A> simply sets this register to the new value.</p>

<p>The <A HREF="osGetSR.htm">__osGetSR</A> routine returns the current value of the R4300 Status register. Its counterpart <A HREF="osSetSR.htm">__osSetSR</A> simply sets this register to the new value. When creating a thread, <A HREF="osCreateThread.htm">osCreateThread</A> enables the kernel mode, all interrupts, and exception level in the thread's Status register, which becomes the R4300 Status register during a thread context switch.</p>

<p>The <A HREF="osGetFpcCsr.htm">__osGetFpcCsr</A> routine returns the current value of the R4300 floating-point control/status register. Its counterpart <A HREF="osSetFpcCsr.htm">__osSetFpcCsr</A> simply returns the current value of this register before setting it to the new value. Upon system initialization and the creation of a thread, this floating-point control/status is enabled to flush all denormalized numbers to zero and to cause an invalid operation exception when Not a Numbers (NaNs) are generated. These 2 bits are respectively defined as FPCSR_FS and FPCSR_EV in R4300.h. </p>

<h3>See Also</h3>

<p><a href="osGetTLBASID.htm">__osGetTLBASID </a></p>
<H3>Revision History</H3>
<P>
1999/04/30  Changed format
</P>

</body>
</html>
