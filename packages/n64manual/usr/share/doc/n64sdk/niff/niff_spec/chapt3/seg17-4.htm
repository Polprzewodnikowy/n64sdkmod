<HTML>
<HEAD>
<TITLE>Chapter 3 Binary Format</TITLE>
</HEAD>
<BODY LINK="#0000ff" VLINK="#800080" BGCOLOR="#ffffff">

<font face="arial" size="-1">
<b><font size="3">Chapter 3 Binary Format</b></font>
<HR>
<P>
<b>3-17. CollList</b>

<P>
<u>4. CollData Area</u>
<p>
The CollData area stores the actual collision data. The CollData area is mapped depending on the coll_type specified in the Call area. Mappings for each type follow. 

<P>
When COLL_TYPE_TERRAIN is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
x_subdivide
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
z_subdivide
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
shape_list_index
</td></tr></table>

<p>

Figure: CollData Area Memory Map
<br>
When COLL_TYPE_TERRAIN is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData 
<pre><font face="courier" size="2"><b>TAG_COLL_DATA_TERRAIN&#9;0x000d0101</b>
</pre></font>
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
Index number of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 x_subdivide
</td>
<td>
<font face="arial" size="-1">
Number of divisions of the whole terrain data in the X direction
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 z_subdivide
</td>
<td>
<font face="arial" size="-1">
Number of divisions of the whole terrain data in the Z direction
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 shape_list_index
</td>
<td>
<font face="arial" size="-1">
Index number of Shape data used for terrain data
</td></tr></table>

<hr size=1>

<P>
When COLL_TYPE_POINT is specified
<p>
<table border="1" cellpadding="3" cellspacing="3">

<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
coll_point_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
coll_point_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
coll_point_z
</td></tr></table>

<p>
Figure: CollData Area Memory Map
<br>
When COLL_TYPE_POINT is specified


<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData 
<pre><font face="courier" size="2"><b>TAG_COLL_DATA_POINT&#9;0x000d0102</b>
</pre></font>
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
Index number of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float coll_point_x
</td>
<td>
<font face="arial" size="-1">
X coordinate of Collision point
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float coll_point_y
</td>
<td>
<font face="arial" size="-1">
Y coordinate of Collision point
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float coll_point_z
</td>
<td>
<font face="arial" size="-1">
Z coordinate of Collision point
</td></tr></table>

<hr size=1>

<P>
When COLL_TYPE_CIRCLE is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">

<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_z
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
normal_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
normal_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
normal_z
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td>v
radius
</td></tr></table>

<p>
Figure: CollData Area Memory Map
<br>
When COLL_TYPE_CIRCLE is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData. Set the following tag. 
<pre><font face="courier" size="2"><b>TAG_COLL_DATA_CIRCLE&#9;0x000d0103</b>
</pre></font>

</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
Index number of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_x
</td>
<td>
<font face="arial" size="-1">
X coordinate of the center of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_y
</td>
<td>
<font face="arial" size="-1">
Y coordinate of the center of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_z
</td>
<td>
<font face="arial" size="-1">
Z coordinate of the center of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float normal_x
</td>
<td>
<font face="arial" size="-1">
X component of normal vector of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float normal_y
</td>
<td>
<font face="arial" size="-1">
Y component of normal vector of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float normal_z
</td>
<td>
<font face="arial" size="-1">
Z component of normal vector of the circle
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float radius
</td>
<td>
<font face="arial" size="-1">
Radius 
</td></tr></table>
<br>
<hr size=1>

<P>
When COLL_TYPE_SPHERE is specified
<p>
<table border="1" CELLPADDING="3" cellspacing="3">

<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_z
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
radius
</td>
</tr>
</table>

<p>
Figure: CollData Area Memory Map
<br>
When COLL_TYPE_SPHERE is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData 
<pre><font face="courier" size="2">
<b>TAG_COLL_DATA_SPHERE&#9;0x000d0104</b></pre></font>
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
Index number of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_x
</td>
<td>
<font face="arial" size="-1">
X coordinate of sphere's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_y
</td>
<td>
<font face="arial" size="-1">
Y coordinate of sphere's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_z
</td>
<td>
<font face="arial" size="-1">
Z coordinate of sphere's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float radius
</td>
<td>
<font face="arial" size="-1">
Radius
</td>
</tr>
</table>

<br>
<hr size=1>
<P>
When COLL_TYPE_CYLINDER is specified
<p>
<table border="1" cellpadding="3" cellspacing="3">

<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_z
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
radius
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
height
</td>
</tr>
</table>

<p>
Figure: CollData Area Memory Map
<br>
When COLL_TYPE_CYLINDER is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData 
<pre><font face="courier" size="2"><b>TAG_COLL_DATA_CYLINDER&#9;0x000d0105</b>
</pre></font>
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
ndex number of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_x
</td>
<td>
<font face="arial" size="-1">
X coordinate of the center (bottom) 
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_y
</td>
<td>
<font face="arial" size="-1">
Y coordinate of the center (bottom)
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_z
</td>
<td>
<font face="arial" size="-1">
Z coordinate of the center (bottom)
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float radius
</td>
<td>
<font face="arial" size="-1">
Radius
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float height
</td>
<td>
<font face="arial" size="-1">
Height of cylinder
</td></tr>
</table>

<br>
<hr size=1>

<P>
When COLL_TYPE_BOX is specified
<p>
<table border="1" cellpadding="3" cellspacing="3">

<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_tag
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
this_coll_data_index
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
u32
</td>
<td><font face="arial" size="-1">
coll_data_size
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
center_z
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
length_x
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
length_y
</td>
</tr>
<tr>
<td><font face="arial" size="-1">
float
</td>
<td><font face="arial" size="-1">
length_z
</td></tr>
</table>

<p>
Figure: CollData Area Memory Map
<br>
When COLL_TYPE_BOX is specified

<p>
<table border="1" cellpadding="3" cellspacing="3">
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_tag
</td>
<td>
<font face="arial" size="-1">
Tag indicating CollData 
<pre><font face="courier" size="2"><b>TAG_COLL_DATA_BOX&#9;0x000d0106</b></pre></font>
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 this_coll_data_index
</td>
<td>
<font face="arial" size="-1">
Index number of CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
u32 coll_data_size
</td>
<td>
<font face="arial" size="-1">
Size of this CollData
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_x
</td>
<td>
<font face="arial" size="-1">
X coordinate of cube's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_y
</td>
<td>
<font face="arial" size="-1">
Y coordinate of cube's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float center_z
</td>
<td>
<font face="arial" size="-1">
Z coordinate of cube's center
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float length_x
</td>
<td>
<font face="arial" size="-1">
Length of X axial direction
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float length_y
</td>
<td>
<font face="arial" size="-1">
Length of Y axial direction
</td>
</tr>
<tr>
<td nowrap><font face="arial" size="-1">
float length_z
</td>
<td>
<font face="arial" size="-1">
Length of Z axial direction
</td>
</tr>

</table>
<p>

<hr>

<p align="right"><a href="../index.htm">
<img src="../../../gif/index.gif"
border="0" width="65" height="17"></a>
&nbsp; <a href="./seg18.htm">
<img src="../../../gif/next.gif"
border="0" width="65" height="17"></a></p>

</body>
</html>


