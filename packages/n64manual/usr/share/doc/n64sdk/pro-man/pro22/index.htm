<html>
<head>
<link rel=stylesheet type="text/css" href="../../mobile/allman.css">
<title>Chapter 22 - Scheduling Audio and Graphics</title>
<!-- Editor: Paula W
      Notes: Added link to style-sheet, performed spell check. -->
</head>

<h1>Chapter 22 - Scheduling Audio and Graphics</h1>

<p>The Nintendo 64 audio and graphics chores are shared between the host CPU and the RCP. The work to be performed is expressed using an array of primitives called a command list. </p>

<p>The host CPU is responsible for command list generation. Audio command lists are generated by calling <a href="../../n64man/al/alAudioFrame.htm">alAudioFrame()</a>. Graphics command lists are generated by calling the various graphics macros defined in gbi.h. In addition, the host CPU is responsible for assembling command lists into RCP tasks (which consist of command lists, RCP <A target="keywords" HREF="../../keywords/index/data/system.htm#microcode">microcode</a> and execution state information), and for downloading the task at the appropriate time to the RCP. </p>

<p>The RCP is responsible for command list processing. The RCP microcode loaded by the host CPU parses the command list, executes the appropriate core <a href="../../keywords/index/data/graphics.htm#rendering" target="keywords">rendering</a> routines, and writes the results to the video frame or audio buffer. </p>

<p>Since the video frame buffer must be updated at a regular rate (usually 30 frames per second) and the audio buffers must be updated before they are emptied by the audio DAC to prevent clicks and pops, the application must make schedule the command list generation
and processing chores so that they happen in a &QUOT;timely manner&QUOT; This chapter identifies the relevant scheduling issues and describes the libultra Scheduler that addresses them. </p>


<hr>
<a name="index"></a>
<dl>
  <dt><a href="22-01.htm">22.1 Scheduling Issues</a>
  <dd><a href="22-01.htm#01">22.1.1 Command List Generation</a><br>
      <a href="22-01.htm#02">22.1.2 Command List Processing</a><br>
</dl>
<dl>
  <dt><a href="22-02.htm">22.2 Using the Scheduler</a>
  <dd><a href="22-02.htm#01">22.2.1 Creating the Scheduler: osCreateScheduler()</a><br>
      <a href="22-02.htm#02">22.2.2 Adding Clients to the Scheduler: osScAddClient()</a><br>
      <a href="22-02.htm#03">22.2.3 Creating Scheduler Tasks: OSScTask structure</a><br>
      <a href="22-02.htm#04">22.2.4 Sending Tasks to the Scheduler: osScGetTaskQ()</a><br>
</dl>


<hr>
</body> </html>
