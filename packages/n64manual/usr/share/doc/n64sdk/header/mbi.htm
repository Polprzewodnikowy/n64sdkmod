<HTML><HEAD>
<TITLE></TITLE>
</HEAD></BODY>
<PRE>#ifndef _MBI_H_
#define	_MBI_H_

<FONT COLOR="red">/**************************************************************************
 *									  *
 *		 Copyright (C) 1994, Silicon Graphics, Inc.		  *
 *									  *
 *  These coded instructions, statements, and computer programs  contain  *
 *  unpublished  proprietary  information of Silicon Graphics, Inc., and  *
 *  are protected by Federal copyright law.  They  may  not be disclosed  *
 *  to  third  parties  or copied or duplicated in any form, in whole or  *
 *  in part, without the prior written consent of Silicon Graphics, Inc.  *
 *									  *
 **************************************************************************/</FONT>

<FONT COLOR="red">/**************************************************************************
 *
 *  $Revision: 1.136 $
 *  $Date: 1999/01/05 13:04:00 $
 *  $Source: /hosts/gate3/exdisk2/cvs/N64OS/Master/cvsmdev2/PR/include/mbi.h,v $
 *
 **************************************************************************/</FONT>

<FONT COLOR="red">/*
 * Header file for the Media Binary Interface
 *
 * NOTE: This file is included by the RSP microcode, so any C-specific
 * constructs must be bracketed by #ifdef _LANGUAGE_C
 *
 */</FONT>


<FONT COLOR="red">/*
 * the SHIFT macros are used to build display list commands, inserting
 * bit-fields into a 32-bit word. They take a value, a shift amount, 
 * and a width.
 *
 * For the left shift, the lower bits of the value are masked, 
 * then shifted left.
 *
 * For the right shift, the value is shifted right, then the lower bits
 * are masked.
 *
 * (NOTE: _SHIFTL(v, 0, 32) won't work, just use an assignment)
 *
 */</FONT>
#define _SHIFTL(v, s, w)	\
    ((unsigned int) (((unsigned int)(v) &amp; ((0x01 &lt;&lt; (w)) - 1)) &lt;&lt; (s)))
#define _SHIFTR(v, s, w)	\
    ((unsigned int)(((unsigned int)(v) &gt;&gt; (s)) &amp; ((0x01 &lt;&lt; (w)) - 1)))

#define _SHIFT _SHIFTL	<FONT COLOR="red">/* old, for compatibility only */</FONT>

#define G_ON	(1)
#define G_OFF	(0)

<FONT COLOR="red">/**************************************************************************
 *
 * Graphics Binary Interface
 *
 **************************************************************************/</FONT>

#include &lt;PR/gbi.h&gt;

<FONT COLOR="red">/**************************************************************************
 *
 * Audio Binary Interface
 *
 **************************************************************************/</FONT>

#include &lt;PR/abi.h&gt;

<FONT COLOR="red">/**************************************************************************
 *
 * Task list
 *
 **************************************************************************/</FONT>

#define	M_GFXTASK	1
#define	M_AUDTASK	2
#define	M_VIDTASK	3
#define M_HVQTASK	6
#define M_HVQMTASK	7

<FONT COLOR="red">/**************************************************************************
 *
 * Segment macros and definitions
 *
 **************************************************************************/</FONT>

#define	NUM_SEGMENTS		(16)
#define	SEGMENT_OFFSET(a)	((unsigned int)(a) &amp; 0x00ffffff)
#define	SEGMENT_NUMBER(a)	(((unsigned int)(a) &lt;&lt; 4) &gt;&gt; 28)
#define	SEGMENT_ADDR(num, off)	(((num) &lt;&lt; 24) + (off))

#ifndef NULL
#define NULL 0
#endif

#endif <FONT COLOR="red">/* !_MBI_H_ */</FONT>
</PRE>
</BODY>
